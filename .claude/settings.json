{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "powershell -Command \"$p=$env:CLAUDE_TOOL_INPUT_file_path; if($p -and !(Test-Path $p)){$d=Split-Path $p -Parent; if($d -and !(Test-Path $d)){New-Item -ItemType Directory -Path $d -Force | Out-Null}; New-Item -ItemType File -Path $p -Force | Out-Null}\""
          }
        ]
      }
    ]
  }
}
